sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","com/sap/notifications/banner/model/models","com/sap/notifications/banner/controller/NotificationBanner","com/sap/notifications/banner/controller/TileCounter"],function(i,n,t,e,o){"use strict";return i.extend("com.sap.notifications.banner.Component",{metadata:{manifest:"json",config:{sample:{stretch:true,files:["index.html","localService/mockserver.js","localService/mockdata/notifications.json"]}}},init:function(){var n=this;i.prototype.init.apply(this,arguments);var t=new URLSearchParams(window.location.search);var e=t.get("sap-ui-xx-mockserver")==="true"||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(e){this._initMockServer().then(function(){n._finishInitialization()})}else{this._finishInitialization()}},_initMockServer:function(){return new Promise(function(i){sap.ui.require(["com/sap/notifications/banner/localService/mockserver"],function(n){n.init();i()})})},_finishInitialization:function(){this.setModel(t.createDeviceModel(),"device");this._initializeNotificationBanner()},_initializeNotificationBanner:function(){var i=this;this._notificationBanner=new e;this._tileCounter=new o;this._startNotificationPolling();if(typeof sap!=="undefined"&&sap.ushell&&sap.ushell.Container){sap.ushell.Container.attachRendererCreatedEvent(function(){i._notificationBanner.attachToShell();i._tileCounter.start()})}else{setTimeout(function(){i._notificationBanner.attachToShell()},1e3)}},_startNotificationPolling:function(){var i=this;this._notificationBanner.loadNotifications();setInterval(function(){i._notificationBanner.loadNotifications()},3e4)},getNotificationBanner:function(){return this._notificationBanner},getTileCounter:function(){return this._tileCounter},exit:function(){if(this._notificationBanner){this._notificationBanner.destroy()}if(this._tileCounter){this._tileCounter.destroy()}}})});
//# sourceMappingURL=Component.js.map