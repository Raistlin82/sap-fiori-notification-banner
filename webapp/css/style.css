/* ==========================================================================
   Global Notification Banner Styles for SAP Fiori
   Compatible with S/4HANA PCE 2023
   ========================================================================== */

/* Global Banner Container */
#globalNotificationBanner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    animation: slideDown 0.3s ease-out;
}

/* Slide down animation */
@keyframes slideDown {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Base notification banner styles */
.notificationBanner {
    margin: 0 !important;
    border-radius: 0 !important;
    border: none !important;
    font-family: "SAP-icons", "72", "Arial", sans-serif !important;
    font-size: 0.875rem !important;
    line-height: 1.4 !important;
    padding: 0.75rem 1rem !important;
    position: relative;
    animation: fadeIn 0.5s ease-in;
}

/* Custom banner with improved typography */
.notificationBannerCustom .sapMMessageStripText {
    font-size: 1rem !important;
    line-height: 1.5 !important;
    font-weight: 500 !important;
    letter-spacing: 0.01em !important;
}

/* Fade in animation */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* High Priority (Error) */
.notificationBanner--high {
    background-color: #fee7e7 !important;
    border-left: 4px solid #d32f2f !important;
    color: #d32f2f !important;
}

.notificationBanner--high .sapMMessageStripIcon {
    color: #d32f2f !important;
}

.notificationBanner--high .sapMMessageStripText {
    color: #d32f2f !important;
    font-weight: 600 !important;
}

/* Medium Priority (Warning) */
.notificationBanner--medium {
    background-color: #fff3cd !important;
    border-left: 4px solid #ff8c00 !important;
    color: #856404 !important;
}

.notificationBanner--medium .sapMMessageStripIcon {
    color: #ff8c00 !important;
}

.notificationBanner--medium .sapMMessageStripText {
    color: #856404 !important;
    font-weight: 500 !important;
}

/* Low Priority (Information) */
.notificationBanner--low {
    background-color: #d1ecf1 !important;
    border-left: 4px solid #17a2b8 !important;
    color: #0c5460 !important;
}

.notificationBanner--low .sapMMessageStripIcon {
    color: #17a2b8 !important;
}

.notificationBanner--low .sapMMessageStripText {
    color: #0c5460 !important;
    font-weight: 400 !important;
}

/* Success Messages */
.notificationBanner--success {
    background-color: #d4edda !important;
    border-left: 4px solid #28a745 !important;
    color: #155724 !important;
}

.notificationBanner--success .sapMMessageStripIcon {
    color: #28a745 !important;
}

.notificationBanner--success .sapMMessageStripText {
    color: #155724 !important;
    font-weight: 500 !important;
}

/* Maintenance Messages */
.notificationBanner--maintenance {
    background-color: #e2e3e5 !important;
    border-left: 4px solid #6c757d !important;
    color: #383d41 !important;
}

.notificationBanner--maintenance .sapMMessageStripIcon {
    color: #6c757d !important;
}

.notificationBanner--maintenance .sapMMessageStripText {
    color: #383d41 !important;
    font-weight: 500 !important;
}

/* Close button customization */
.notificationBanner .sapMMessageStripCloseButton {
    background: transparent !important;
    border: none !important;
    padding: 0.25rem !important;
    margin-left: auto !important;
    opacity: 0.7 !important;
    transition: opacity 0.2s ease !important;
}

.notificationBanner .sapMMessageStripCloseButton:hover {
    opacity: 1 !important;
    background: rgba(0, 0, 0, 0.05) !important;
    border-radius: 0.25rem !important;
}

/* Navigation controls for multiple notifications */
.notificationBanner .sapMBtn {
    margin: 0 0.25rem !important;
    min-width: auto !important;
    height: 2rem !important;
    padding: 0 0.5rem !important;
    background: transparent !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    border-radius: 0.25rem !important;
}

.notificationBanner .sapMBtn:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
}

.notificationBanner .sapMText {
    font-size: 0.75rem !important;
    color: rgba(0, 0, 0, 0.6) !important;
    margin: 0 0.5rem !important;
    line-height: 2rem !important;
}

/* Responsive design for mobile devices */
@media (max-width: 768px) {
    .notificationBanner {
        padding: 0.5rem !important;
        font-size: 0.8125rem !important;
    }

    .notificationBanner .sapMBtn {
        height: 1.75rem !important;
        padding: 0 0.375rem !important;
    }

    .notificationBanner .sapMText {
        font-size: 0.6875rem !important;
        line-height: 1.75rem !important;
    }
}

@media (max-width: 480px) {
    .notificationBanner {
        padding: 0.375rem !important;
    }

    /* Hide counter text on very small screens */
    .notificationBanner .sapMText {
        display: none !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .notificationBanner {
        border-width: 2px !important;
    }

    .notificationBanner--high {
        background-color: #ffffff !important;
        color: #000000 !important;
        border-left-color: #cc0000 !important;
    }

    .notificationBanner--medium {
        background-color: #ffffff !important;
        color: #000000 !important;
        border-left-color: #ff6600 !important;
    }

    .notificationBanner--low {
        background-color: #ffffff !important;
        color: #000000 !important;
        border-left-color: #0066cc !important;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .notificationBanner,
    #globalNotificationBanner {
        animation: none !important;
    }
}

/* Dark theme support */
@media (prefers-color-scheme: dark) {
    .notificationBanner--high {
        background-color: #3d1a1a !important;
        color: #ffb3b3 !important;
    }

    .notificationBanner--medium {
        background-color: #3d2f1a !important;
        color: #ffcc80 !important;
    }

    .notificationBanner--low {
        background-color: #1a2d3d !important;
        color: #80d4ff !important;
    }

    .notificationBanner--success {
        background-color: #1a3d26 !important;
        color: #80ff9f !important;
    }

    .notificationBanner--maintenance {
        background-color: #2d2d2d !important;
        color: #cccccc !important;
    }
}

/* Shell integration fixes */
.sapUshellShellHeader ~ #globalNotificationBanner {
    top: 2.75rem !important; /* Account for shell header height */
}

.sapUshellShellFloatingContainer ~ #globalNotificationBanner {
    top: 0 !important;
}

/* Fiori 3.0 theme adjustments */
html[data-sap-ui-theme*="sap_fiori_3"] .notificationBanner {
    font-family: "72", "Arial", sans-serif !important;
    box-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.15) !important;
}

/* Ensure banner appears above all other content */
.notificationBanner {
    position: relative;
    z-index: 10000 !important;
}

/* Pulse animation for urgent messages */
.notificationBanner--high.urgent-pulse {
    animation: urgentPulse 2s infinite;
}

@keyframes urgentPulse {
    0%, 100% {
        border-left-width: 4px;
        box-shadow: 0 2px 8px rgba(211, 47, 47, 0.1);
    }
    50% {
        border-left-width: 6px;
        box-shadow: 0 2px 12px rgba(211, 47, 47, 0.3);
    }
}

/* Accessibility improvements */
.notificationBanner:focus-within {
    outline: 2px solid #0070f3 !important;
    outline-offset: 2px !important;
}

.notificationBanner .sapMBtn:focus {
    outline: 2px solid #0070f3 !important;
    outline-offset: 1px !important;
}

/* Print styles */
@media print {
    #globalNotificationBanner {
        display: none !important;
    }
}

/* ==========================================================================
   Admin Page Styles
   ========================================================================== */

/* Ensure admin page takes full height in both standalone and FLP */
#View1--page {
    height: 100% !important;
}

/* Root container height fix for FLP - only target app container */
#container-com\\.sap\\.notifications\\.banner2 {
    height: 100% !important;
}

/* Filter Bar Container - ensure proper visibility and spacing */
.filterBarContainer,
.sapUiSmallMarginBottom {
    min-height: 3.5rem !important;
    padding: 0.5rem 0 !important;
    margin-bottom: 1rem !important;
}

/* Filter Bar Toolbar spacing */
.sapUiSmallMarginBottom > .sapMTB {
    min-height: 3rem !important;
    padding: 0.5rem 1rem !important;
    background-color: var(--sapList_HeaderBackground, #fafafa) !important;
    border-bottom: 1px solid var(--sapList_BorderColor, #e5e5e5) !important;
}

/* Admin page responsive content padding */
.sapUiResponsiveContentPadding {
    padding: 1rem !important;
}

/* Ensure page content area uses available space in both contexts */
.sapMPageWithHeader .sapMPageEnableScrolling {
    height: auto !important;
    min-height: 500px !important;
}

/* FLP-specific fixes - only within app container */
.sapUShellApplicationContainer .sapMPage {
    height: 100% !important;
}

.sapUShellApplicationContainer .sapMPageEnableScrolling {
    height: calc(100% - 3rem) !important;
}